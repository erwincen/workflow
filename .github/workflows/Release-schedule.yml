name: Dev Deploy

on:
  pull_request:
    branches:
      - main

jobs:
  Get-Commit:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Get current date
        id: date
        run: echo "::set-output name=date::$(date +'%Y-%m-%d')"
      - name: Generate Release Notes
        id: release_notes
        uses: cardinalby/git-get-release-action@v1
        env:
          GITHUB_TOKEN: ${{ github.token }}
        with:
          latest: true

      - name: Create Release
        if: contains(steps.release_notes.outputs.body, 'fix:')



        # https://github.com/softprops/action-gh-release
        uses: softprops/action-gh-release@v1
        with: 
          generate_release_notes: true
          tag_name: "releases/${{ steps.date.outputs.date }}"
          token: "${{ secrets.TOKEN }}"

# name: Cron

# on:
#   schedule:
#     - cron: "*/2 * * * *"

# jobs:
#   cron:
#     runs-on: ubuntu-latest
    
#     steps:
#       # Runs a single command using the runners shell
#       - name: condition 1
#         if: contains(github.event.head_commit.message, 'fix')
#         run: echo Hello, world!
#       - name: condition 2
#         run: echo github.event.head_commit.message

# jobs:
#   release-please:
#     runs-on: ubuntu-latest
#     steps:
#       - uses: google-github-actions/release-please-action@v3
#         with:
#           release-type: node
#           package-name: release-please-action